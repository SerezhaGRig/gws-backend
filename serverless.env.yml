default: &DEFAULT
  variables: &DEFAULT_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    MALBOX_TABLE: !Ref MailboxSubscribersTable
    EMAIL_KEY: ${ssm:/events-backend/email_key}


production: &PRODUCTION
  variables: &PRODUCTION_VARIABLES
    NODE_ENV: ${self:provider.stage, 'local'}
    MALBOX_TABLE: !Ref MailboxSubscribersTable
    EMAIL_KEY: ${ssm:/events-backend/email_key}


dev:
  <<: *DEFAULT
  variables:
    <<: *DEFAULT_VARIABLES